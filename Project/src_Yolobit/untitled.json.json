{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"nBp-0EGCHFieg4l2*V2F\">counter</variable><variable id=\"3tel%`2OI%DO:zWF)p(8\">cmd</variable></variables><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"-12\" y=\"-187\"><statement name=\"ONSTART\"><block type=\"aiot_lcd1602_clear\" id=\"({#$:~RSJ%hNLybWMCCZ\"><next><block type=\"variables_set\" id=\"f-`/f]0#`,unniLJv7i$\"><field name=\"VAR\" id=\"nBp-0EGCHFieg4l2*V2F\">counter</field><value name=\"VALUE\"><block type=\"math_number\" id=\"GD$e7``1v-eroC{G(Ee;\"><field name=\"NUM\">0</field></block></value></block></next></block></statement><statement name=\"FOREVER\"><block type=\"math_change\" id=\"j(,Y,E)PlJ^q6E*EP-Jn\"><field name=\"VAR\" id=\"nBp-0EGCHFieg4l2*V2F\">counter</field><value name=\"DELTA\"><shadow type=\"math_number\" id=\";|4:0k+U4ljGS:/P+kx%\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\" id=\"uf.r6WXX=myy?%BfgVjg\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"HfEcN4N9ur3hau^;-2y,\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"-nr/2qt0rvE-V!DPFm9S\"><field name=\"VAR\" id=\"nBp-0EGCHFieg4l2*V2F\">counter</field></block></value><value name=\"B\"><block type=\"math_number\" id=\")@8yaDx75lr2$}(?.ruX\"><field name=\"NUM\">5</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"@v4UI:zYFsax4ZhcUnkY\"><field name=\"VAR\" id=\"nBp-0EGCHFieg4l2*V2F\">counter</field><value name=\"VALUE\"><block type=\"math_number\" id=\"4?,X-#%eE5KQo1UBa{:Q\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"=%@-4^scFM5%VLr^G3(8\"><mutation name=\"Sensing\"></mutation></block></next></block></statement><next><block type=\"procedures_callnoreturn\" id=\"!97A8qn9vTZKPN,S.?ja\"><mutation name=\"Controller\"></mutation><next><block type=\"yolobit_basic_sleep\" id=\"D6$^}UIHEkG]drvJOK6d\"><value name=\"duration\"><shadow type=\"math_number\" id=\"fY(O;hQyzAbdJ0xBE)j,\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"9=uoG!z#bOu!)KeuWMXG\" x=\"363\" y=\"-162\"><field name=\"NAME\">Controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"~,/bIm[d)i6FN0kkM^}}\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"C!fH0Oib;u4#0qjDP;L,\"></block></value><next><block type=\"controls_if\" id=\"^I.zfXe|s.`#Q-E.NVE6\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"EElCFF}@=PdYSCnntl4w\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"fxD!GIC]E?2aspe3p~N]\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"^IYSY1mFb+;%V4X?`Ajs\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"[ihR,yrU6@tF,UeDN:9B\"><field name=\"port\">pin1</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"@[*1W6:1dBc}UMtU-tii\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"{lu{+s:ZJ6oMMJL9[7@w\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"nyn$n$=ELU+%%?CEpHpI\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"T+#Gl8$Hck~VQ`(=7cjE\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"dm13oG)p5a21FVW)fm4*\"><field name=\"TEXT\">2</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_led_tiny_set_all\" id=\"1a42sO.!0ImW8!K5Hf#h\"><field name=\"port\">pin1</field><field name=\"option\">0</field><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"57QUZ%o[}B6(gyryd%;Y\"><field name=\"COLOUR\">#ff0000</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"5/td!1JC:aw};i#4bz41\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"p?9}!-N2E/}2qC4S~l?y\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"yza^WOZ:qqjl-s(J3?kg\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"uM/Ol272:NwWK%R#=@=5\"><field name=\"TEXT\">3</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_pin_write_digital\" id=\"u0C(whIgh70/#Y3ji-Qj\"><field name=\"pin\">16</field><value name=\"output\"><shadow type=\"math_number\" id=\"C]1~6~ImI55/A7@e{Mxk\"><field name=\"NUM\">0</field></shadow><block type=\"yolobit_pin_onoff_value\" id=\"%[TSs)p!8A5ls{*84{VK\"><field name=\"value\">0</field></block></value></block></statement><next><block type=\"controls_if\" id=\"Lk#hL)i9!qwTy)#PFKI.\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"@#t`}`kA[W63+[qtS@1H\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"7DNu7FYlNx:k/RBc7um,\"><field name=\"VAR\" id=\"3tel%`2OI%DO:zWF)p(8\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"U{riOX.`T*_`Aeq3,w),\"><field name=\"TEXT\">4</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_pin_write_digital\" id=\")o+ISORK^Ng9EW7@r(_8\"><field name=\"pin\">16</field><value name=\"output\"><shadow type=\"math_number\" id=\"C]1~6~ImI55/A7@e{Mxk\"><field name=\"NUM\">0</field></shadow><block type=\"yolobit_pin_onoff_value\" id=\"aqb:W@g8^`IJNq,CA{.3\"><field name=\"value\">1</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"!my3+W-X4I++{qKHBE~;\" x=\"13\" y=\"188\"><field name=\"NAME\">Sensing</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"aiot_lcd1602_clear\" id=\"0?%N|Sy7A0Ygw2YO#2l5\"><next><block type=\"aiot_dht_measure\" id=\"oyQ7FVXMC%5i]%z;zWR|\"><next><block type=\"aiot_lcd1602_display\" id=\"I2ji[fIn6!Hb4$Ypt5]k\"><value name=\"string\"><shadow type=\"text\" id=\"qrIC!/-ni/4Pd2b=6V]H\"><field name=\"TEXT\">Hello</field></shadow><block type=\"aiot_dht_read\" id=\"]`S$Z8@@MLA=fRaAcvK*\"><field name=\"DATA\">TEMP</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"gsZ*RV2]Mp;8KSDqIgU.\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"?G:`RrNER(e=1Yh|fBMh\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"[WM1$^XB9L=:KVB5mG9i\"><value name=\"string\"><shadow type=\"text\" id=\"QE7Ml8KoUdSCrEb0!-r~\"><field name=\"TEXT\">Hello</field></shadow><block type=\"aiot_dht_read\" id=\"+3sQ=7x{%@,/n#Tj{Nr:\"><field name=\"DATA\">HUMID</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"WX-S}T}h9a^~6!L+O#^X\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"~^5Hg}Hsu,;Bzjpf.0^=\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"xbot_serial_write_string\" id=\"*C^:2b=Q0,^W*-800?bg\"><value name=\"string\"><shadow type=\"text\" id=\"`^np#VMQkcz?5kY$O!xV\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"-GJQ24_C=3{[6Rq3%O}P\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"pZ#1fK;gkNuJ~Lmr:(j3\"><field name=\"TEXT\">!1:T:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"^|Xfve+sxfH|`evc/ARb\"><field name=\"DATA\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"!)JFJ%]0BrL5:1gf;o1|\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"xbot_serial_write_string\" id=\"|H1bP:xi,30p?3Zygkc#\"><value name=\"string\"><shadow type=\"text\" id=\"`^np#VMQkcz?5kY$O!xV\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"O`X(*0))V^,b.6sgv6D1\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"309mij@,ZC:l33ajGh0i\"><field name=\"TEXT\">!1:H:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"O]^Lx#8oGt@JXg^t@(ig\"><field name=\"DATA\">HUMID</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"~Az`;EbajU1/_`~,v0R[\"><field name=\"TEXT\">#</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","python":"from aiot_lcd1602 import LCD1602\nimport time\nimport sys\nimport uselect\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom aiot_rgbled import RGBLed\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\n\naiot_lcd1602 = LCD1602()\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\ntiny_rgb = RGBLed(pin1.pin, 4)\n\n# Mô tả hàm này...\ndef Controller():\n  global counter, cmd, aiot_lcd1602, aiot_dht20, tiny_rgb\n  cmd = read_terminal_input()\n  if cmd == '1':\n    tiny_rgb.show(0, hex_to_rgb('#000000'))\n  if cmd == '2':\n    tiny_rgb.show(0, hex_to_rgb('#ff0000'))\n  if cmd == '3':\n    pin16.write_digital((0))\n  if cmd == '4':\n    pin16.write_digital((1))\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\n# Mô tả hàm này...\ndef Sensing():\n  global counter, cmd, aiot_lcd1602, aiot_dht20, tiny_rgb\n  aiot_lcd1602.clear()\n  aiot_dht20.read_dht20()\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr((aiot_dht20.dht20_temperature()))\n  aiot_lcd1602.move_to(0, 1)\n  aiot_lcd1602.putstr((aiot_dht20.dht20_humidity()))\n  print((''.join([str(x) for x in ['!1:T:', aiot_dht20.dht20_temperature(), '#']])), end =' ')\n  print((''.join([str(x2) for x2 in ['!1:H:', aiot_dht20.dht20_humidity(), '#']])), end =' ')\n\nif True:\n  aiot_lcd1602.clear()\n  counter = 0\n\nwhile True:\n  counter = (counter if isinstance(counter, (int, float)) else 0) + 1\n  if counter == 5:\n    counter = 0\n    Sensing()\n  Controller()\n  time.sleep_ms(1000)\n","name":"untitled","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"}],"device":"yolobit"}